<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_bonus_spark</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-1</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Variables.
    image_speed = 0.25;
    time        = 0;
    accframe    = 0;
    lifetime    = 360;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Destroy.
    if(lifetime &gt; 0){
       lifetime--;
    }else{
       instance_destroy();
    }
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="4" ename="obj_player">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Get into special stage.
if(instance_exists(obj_fade_bonus) == false &amp;&amp; accframe = 10){
   /// Get into special stage.
   global.temp_restart_x = global.checkpoint_x;
   global.temp_restart_y = global.checkpoint_y;
   global.checkpoint_x = -1;
   global.checkpoint_y = -1;
   instance_create(par_player.x, par_player.y, obj_fade_bonus);
   with(obj_player){
        if(physic_mode == 1){
           drown_timer = 1800;
           if(sound_isplaying(jingle_drown) == true){ 
                  sound_loop(obj_audio.zone_bgm);                     
                  audio_stop_sound(jingle_drown);
           }           
        }
   }
}

if(accframe &lt; 10){
   accframe ++
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Draw Sparkles.

var _roll = 80;  //how much ring is tilted toward camera
var _pitch = sin(time*0.12)*15;  //rocking back and forth
var _x0 = dcos(_pitch);
var _x1 = dsin(_pitch)*dcos(_roll);
var _y0 = -dsin(_pitch);
var _y1 = dcos(_pitch)*dcos(_roll)
var _yaw = time * 30;  //rotation of ring
var _scale = sin(time*0.03) * 20 + 5; //expand or shrink
for (var i = 0; i &lt; 360; i += 45) {
var _x = random_range(0.8,1.2) * _scale * dcos(i + _yaw);
var _y = random_range(0.8,1.2) * _scale * dsin(i + _yaw);
    var _xx = x + _x * _x0 + _y * _x1;
    var _yy = y + _x * _y0 + _y * _y1;
    draw_sprite(sprite_index,-1,_xx,_yy);
}
time += 0.5;
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
