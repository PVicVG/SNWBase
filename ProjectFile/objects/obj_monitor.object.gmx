<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_monitor</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>10</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Variables.
 
    image_speed = 0;                                            // Obvious.
    y_speed     = 0;                                            // Vertical speed.
    y_gravity   = 0.21875;                                      // Gravitation.
    bumped      = false;                                        // Has the monitor been bumped?
    parent      = -1;                                           // Parent. Used after destroying.
    collision   = instance_create(x, y, obj_monitor_collision); // Have seperate collision to prevent bugs with player.
    collision   . sprite_index = sprite_index;

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="1" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Create broken monitor.
 
 // Create broken part:
    var broken;
    broken = instance_create(x, y, obj_monitor_destroyed);
    broken . parent = parent;
    broken . icon   = icon;
    broken . yy     = y-2;
    
    if abs(obj_player.y_speed) &gt; 0
    {
    broken . y_speed = max((abs(obj_player.y_speed) * -1) div 2.35, -4.5);
    }
 // Destroy collision.
    with(collision)
    {
         instance_destroy();
    }
    
 // Dummy Effect:
    dummy_effect_create(spr_explosion_monitor, 0.5, x, y, 5, 0);
    
 // Play Sound:
   aud_play_sound(general_break, global.sfx_volume, 1, 0, 0);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Gravity.

  if(bumped == true)
  {

     // Check for collision:
        repeat(abs(y_speed))
        {
                // Check Collision
                var col;
                col = place_meeting(x, y + sign(y_speed), par_terrain);
                
                // Test Collision
               if (!col)
               {
                  y += sign(y_speed);
               }
               else
               {
                  y_speed = 0;
                  bumped  = false;
               }           
        }
     // Add Gravity:
        y_speed += y_gravity;
        if(y_speed &gt; 12)
        {
           y_speed = 12;
        }     
  }
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Animation speed.

    image_index = global.object_time div 90;


</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Collision.

 // If not bumped, keep collision at monitor x/y.
    if(bumped == false)
    {
       collision.x = x;
       collision.y = y;
    }
    if(bumped == true)
    {
       collision.x = -1;
       collision.y = -1;            
    }
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>/// Draw monitor.

 // Icon:
    draw_sprite(spr_monitor_icon, icon, floor(x), floor(y-2));
 // Main monitor:
    draw_sprite(sprite_index, -1, floor(x), floor(y));

</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
